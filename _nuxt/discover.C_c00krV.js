import{_ as w,u as k,r as b,f as j,g as h,o as l,h as $,w as C,a as e,t as g,b as x,i as p,c as i,V,$ as F,p as S,e as M,d as B,j as I,v as N,k as O,l as P,F as U,m as z,n as E}from"./entry.DTCBD7d8.js";import{C as T}from"./vue-select.es.CHV7giiD.js";const D=r=>(S("data-v-d6c89c08"),r=r(),M(),r),L={class:"w-[calc(min(100vw,32rem)-48px)] px-4 py-6 text-left"},R={class:"flex items-center justify-between"},q={class:"font-medium"},A=D(()=>e("div",{class:"mt-5"},"請於下方輸入特性(可複選)",-1)),H={class:"mb-5 mt-5"},G={class:"text-center"},J={key:0,class:"slowpoke-loading"},K={key:2,type:"button",class:"mr-2 mb-2 rounded-lg border border-gray-200 bg-white py-2.5 px-5 text-sm font-medium text-gray-400 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:outline-none focus:ring-4 focus:ring-gray-200"},Q={__name:"enterFeatures",setup(r){const d=k(),m=b(!1),t=b([]),u=j({title:""}),_=b(!1),v=s=>{const c=s.ref.params.value.poke;Object.assign(u,c),t.value=[]},a=h(()=>d.features.map(s=>({id:s.id,label:s.name}))),o=async()=>{const s={pokeId:u.id,pokeName:u.name,feature:t.value.map(f=>f.id).join(","),featureName:t.value.map(f=>f.label).join(",")};_.value=!0;const c=await d.actionReportFeatures(s);_.value=!1,m.value=!1;const n={message:`${c.value.pokeName}的特性檔案已傳送成功。
        對精靈的研究總算又有進展了呢！！
        做得好，訓練師，願野閃與你同在！！`};F.show("alertModal",{options:n})};return(s,c)=>(l(),$(p(V),{modelValue:m.value,"onUpdate:modelValue":c[1]||(c[1]=n=>m.value=n),classes:"flex justify-center items-center","content-class":"modal-content rounded-lg bg-white",name:"enterFeatureModal",onBeforeOpen:v},{default:C(()=>[e("div",L,[e("div",R,[e("div",q," 真不愧是訓練師，『"+g(u.name)+"』的特性調查已經完成了嗎！？ ",1)]),A,e("div",H,[x(p(T),{modelValue:t.value,"onUpdate:modelValue":c[0]||(c[0]=n=>t.value=n),options:p(a),multiple:"",label:"label"},null,8,["modelValue","options"])]),e("div",G,[_.value?(l(),i("div",J)):t.value.length?(l(),i("button",{key:1,type:"button",class:"mr-2 mb-2 rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:o}," 送出 ")):(l(),i("button",K," 送出 "))])])]),_:1},8,["modelValue"]))}},W=w(Q,[["__scopeId","data-v-d6c89c08"]]),X={class:"w-[calc(min(100vw,32rem)-48px)] px-4 py-6 text-left"},Y=e("div",{class:"flex items-center justify-between"},[e("div",{class:"font-medium"},"支線任務:精靈特性調查")],-1),Z={class:"mt-5 rounded-lg border-[4px] border border-black p-2"},ee=e("div",{class:"mb-5 mt-5"},null,-1),te={class:"text-center"},oe=e("div",{class:"animate-bounce"},[e("svg",{"aria-hidden":"true",class:"h-5 w-5 rotate-90",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1),se=e("span",{class:"sr-only"},"Icon description",-1),ne=[oe,se],ae={__name:"enterFeaturesStory",setup(r){k();const d=b(!0),m=["大事不好拉！！火箭隊入侵了精靈研究中心，把部分的精靈特性檔案偷走了！！","如果不找回這些檔案．．．寵物冒險助手的特性搜尋功能有可能會故障．．","若是有人能協助調查，補回這些缺失的檔案就好了．．．","真的嗎訓練師，你願意幫忙？那真是太好了！！","趕快開始進行調查吧！！"],t=b(m[0]),u=b(0),_=a=>{},v=()=>{u.value++,t.value=m[u.value]};return(a,o)=>(l(),$(p(V),{modelValue:d.value,"onUpdate:modelValue":o[1]||(o[1]=s=>d.value=s),classes:"flex justify-center items-center","content-class":"modal-content rounded-lg bg-white",name:"enterFeatureStoryModal",onBeforeOpen:_},{default:C(()=>[e("div",X,[Y,e("div",Z,g(t.value),1),ee,e("div",te,[u.value<4?(l(),i("button",{key:0,type:"button",class:"mr-2 inline-flex items-center rounded-lg bg-blue-700 p-2.5 text-center text-sm font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:v},ne)):(l(),i("button",{key:1,type:"button",class:"mr-2 mb-2 rounded-lg bg-blue-700 px-5 py-2.5 text-sm font-medium text-white hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:o[0]||(o[0]=s=>d.value=!1)}," 開始調查 "))])])]),_:1},8,["modelValue"]))}},le=ae,y=r=>(S("data-v-d779808b"),r=r(),M(),r),re=y(()=>e("div",{class:"page-title"},"精靈特性調查",-1)),ue={class:"border-1 rounded-lg border border-black bg-[#FFC0CB] p-2"},ce=y(()=>e("li",null,"從下面的列表選出要調查的精靈，調查完成後，點選精靈進行特性輸入",-1)),de=y(()=>e("li",null,"資料整理過後就會更新到特性頁面讓大家可以查詢了！！",-1)),ie={class:"mt-2"},me={key:0,class:"slowpoke-loading"},pe={class:"mt-2 flex flex-wrap gap-2"},_e=["onClick"],be={__name:"discover",setup(r){const d=k(),m=d.showAbilities,t=b(""),u=a=>{const o={poke:a};F.show("enterFeatureModal",o)},_=h(()=>{const a=v.value;return t.value===""?a:a.filter(o=>o.name.includes(t.value))}),v=h(()=>d.pokes.filter(a=>a.features.length===0));return(a,o)=>{const s=W,c=le;return l(),i("main",null,[x(s),x(c),re,e("div",ue,[e("ul",null,[e("li",null," 可惡的火箭隊，目前缺失的精靈特性檔案還有．．．"+g(p(v).length)+"隻😱 ",1),ce,de])]),e("div",ie,[B(" 搜尋: "),I(e("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>O(t)?t.value=n:null),type:"text",class:"rounded-lg border border-gray-300 bg-gray-50 p-2 text-sm text-gray-900 focus:border-blue-500 focus:ring-blue-500"},null,512),[[N,p(t)]])]),p(m).length==0?(l(),i("div",me)):P("",!0),e("div",pe,[(l(!0),i(U,null,z(p(_),n=>(l(),i("div",{key:n.id,class:E(["m-1 grow cursor-pointer p-1 text-center",n.quality]),onClick:f=>u(n)},g(n.name),11,_e))),128))])])}}},ge=w(be,[["__scopeId","data-v-d779808b"]]);export{ge as default};
